

<body>
  <div id="intro" class="bg-image shadow-1-strong" >
    <!-- <video  playsinline autoplay muted loop >
      <source class="h-100" src="assets\pexels-cottonbro-studio-4440817-1920x1080-50fps.mp4" type="video/mp4" />
    </video> -->
  
  <div id="bg"><br><br>
    <h1>Availabe Buses</h1>
    <table id="example" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-bordered" cellspacing="0" >
      <thead class="bg-dark text-white">
          <tr>
              <th class="th-sm" >Bus Number</th>
              <th  class="th-sm">Bus Name</th>
              <th  class="th-sm">From</th>
              <th  class="th-sm">To</th>
              <th  class="th-sm">Bus Coach</th>
              <th  class="th-sm">Trave Time</th>
              <th  class="th-sm">Date</th>
              <th  class="th-sm"></th>
          </tr>
      </thead>
      <tbody>
          <tr *ngFor="let busdata of BusData" id="tableRow">
              <td>{{busdata.busNo}}</td>
              <td>{{busdata.busName}}</td>
              <td>{{busdata.fromPlace}}</td>
              <td>{{busdata.arrivalPlace}}</td>
              <td>{{busdata.busCoach}}</td>
              <td>{{busdata.travelTime}}</td>
              <td>{{busdata.busDate}}</td>
              <td><a ><button (click)="onBook(busdata)" id="onbookbutton">Book</button></a></td>
          </tr>
  </table>

  </div>
  <div id="bg"><br><br>
    <form id="loginform" class="col-lg-6 col-md-6 col-12"  (ngSubmit)="saveBooking()" [formGroup]="bookingForm" *ngIf="showBookingTable">
      <h1 id="loginhead"  ><img src="assets/logo.png" height="30px" width="43px" >QuickBus</h1>
                <div class="form-group">
                  <h1 id="loginheads" >Fill Your Details for Booking</h1>

                  
                  <div class="form-group">
                  <label for="exampleInputName"><i class="bi bi-person"></i> Enter Name</label>
                  <input type="text" class="form-control" id="InputName" placeholder="Name" name="passengerName"  formControlName="passengerName" class="form-control">
                  <small style="color: brown;" *ngIf="passengerName && passengerName.invalid && passengerName.touched">*Enter Correct Name</small>
                </div><br>
                
                   
                  <div class="form-group">
                  <label for="exampleInputNumber"><i class="bi bi-telephone"></i>Mobile Number</label>
                  <input type="number" class="form-control" id="mobileNumber" placeholder="Mobile Number" name="contactNumber"  formControlName="contactNumber" class="form-control">
                  <small style="color: brown;" *ngIf="contactNumber && contactNumber.invalid && contactNumber.touched">*Enter Correct Mobile Number</small>  
                </div><br>
               
                   
                 <div class="form-group">
                  <label for="exampleFormControlfrom">From:</label>
                  <input type="text" class="form-control" id="exampleInputNumber" name="fromPlace" [(ngModel)]="selectedBus.fromPlace" formControlName="fromPlace" class="form-control" >
                  <small style="color: brown;" *ngIf="fromPlace && fromPlace.invalid && fromPlace.touched">*Select Correct From Place</small>  
                
                </div>
               
                 <br>
                <div class="form-group">
                  <label for="exampleFormControlto">TO:</label>
                  <input type="text" class="form-control" id="exampleInputNumber"  name="arrivalPlace" [(ngModel)]="selectedBus.arrivalPlace" formControlName="arrivalPlace" class="form-control">
                  <small style="color: brown;" *ngIf="arrivalPlace && arrivalPlace.invalid && arrivalPlace.touched">*Select Correct Arrival Place</small>  
                
                </div>
               
                <br>
                <div class="form-group">
                  <label for="exampleFormControlbusno">Bus No</label>
                  <input type="text" class="form-control" id="exampleInputNumber"  name="busNo" [(ngModel)]="selectedBus.busNo" formControlName="busNo" class="form-control">
                  <small style="color: brown;" *ngIf="busNo && busNo.invalid && busNo.touched">*Enter Correct Bus No</small>  
                
                </div>

                <br>
                <div class="form-group">
                  <label for="exampleFormControldate">Date</label>
                  <input type="text" class="form-control" id="exampleInputNumber" name="busDate" [(ngModel)]="selectedBus.busDate" formControlName="busDate" class="form-control">
                  <small style="color: brown;" *ngIf="busDate && busDate.invalid && busDate.touched">*Select Correct Date</small>  
                
                </div>
  
        <a class="buttons" routerLink="/userhome"><button  type="button" class="btn btn-primary">Home</button></a>
        <a class="buttons" routerLink="/bookingpage"><button style="background-color: brown;" type="button" class="btn btn-primary">Cancel</button></a>
        <a class="buttons"><button id="bookbutton" type="submit" class="btn btn-primary" (click)="addbook()" [disabled]="bookingForm.invalid">Book</button></a>
        <h2 id="ticketpnr" *ngIf="PNRstatus">Booking Successfull!!<br>Your Ticker PNR is {{bookiId}}</h2>
        <a class="buttons" ><button id="bookbutton" routerLink="/ticketinfo" type="submit" class="btn btn-primary"  *ngIf="PNRstatus" >Print your ticket</button></a>
    </div>
</form>

 
